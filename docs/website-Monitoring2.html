<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      ç½‘ç«™ç›‘æ§ç¬”è®°ï¼ˆäºŒï¼‰ â€” èµ„æºå¼‚å¸¸ ğŸ”¨ | Syp's Blog
    </title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/_assets/style.ce52e532.css">
    <link rel="modulepreload" href="/_assets/common-bec3f312.js">
    <link rel="modulepreload" href="/_assets/docs_website-Monitoring2.md.3cc80069.lean.js">
    <link rel="modulepreload" href="/_assets/app.6518db71.js">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="keywords" content="Syp&#39;s Blog">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.css">
    <script src="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.js"></script>
    <script src="https://lib.baomitu.com/axios/0.21.1/axios.js"></script>
    
  </head>
  <body>
    <div id="app"><!--[--><div id="containerColor" class="no-sidebar theme" data-v-79566ff1><header class="navbar" data-v-79566ff1><!-- <div class="body-bg" style="background: url(&quot;https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200507175828.jpeg&quot;) center center / cover no-repeat;opacity: 0.5;position: fixed;left: 0;top: 0;z-index: -999999;height: 100vh;width: 100vw;transition: background .5s;"></div> --><!--[--><a class="title" aria-label="Syp&#39;s Blog, back to home" href="/"><img class="logo" src="/favicon.ico" alt="logo"><span>Syp&#39;s Blog</span></a><div class="flex-grow"></div><nav class="nav-links hide-mobile" data-v-79566ff1><!--[--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/" target="" rel="">ğŸ  é¦–é¡µ <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/more/docs.html" target="" rel="">ğŸ“… å½’æ¡£ <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/more/tags.html" target="" rel="">ğŸ“‚ åˆ†ç±» <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--[--><!--]--><!--]--><!--]--><div class="sidebar-button" data-v-79566ff1><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div></header><aside class="" data-v-79566ff1><!--[--><nav class="nav-links show-mobile" data-v-79566ff1><!--[--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/" target="" rel="">ğŸ  é¦–é¡µ <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/more/docs.html" target="" rel="">ğŸ“… å½’æ¡£ <!----></a></div><!--]--><!--[--><div class="nav-item" data-v-79566ff1><a class="nav-link" href="/more/tags.html" target="" rel="">ğŸ“‚ åˆ†ç±» <!----></a></div><!--]--><!--]--><!----><!----></nav><!--[--><!--[--><!--]--><!--]--><ul class="sidebar"><!--[--><!--]--></ul><!--[--><!--[--><!--]--><!--]--><!--]--></aside><!----><!-- TODO: make this button accessible --><div class="sidebar-mask" data-v-79566ff1></div><main data-v-79566ff1><!--[--><div class="content"><!--[--><!--[--><!--]--><!--]--><div class="md-header"><div class="md-title">ç½‘ç«™ç›‘æ§ç¬”è®°ï¼ˆäºŒï¼‰ â€” èµ„æºå¼‚å¸¸ ğŸ”¨</div><!-- <span id="jinrishici-sentence">æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....</span> --><div class="md-date">2021-01-31</div></div><ul class="catalog"><!--[--><li class="catalog-item"><a class="level level-2" href="#å›é¡¾">å›é¡¾</a><!----></li><li class="catalog-item"><a class="level level-2" href="#å‰è¨€">å‰è¨€</a><!----></li><li class="catalog-item"><a class="level level-2" href="#åˆ†ç±»å‹">åˆ†ç±»å‹</a><!----></li><li class="catalog-item"><a class="level level-2" href="#é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘">é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘</a><!----></li><li class="catalog-item"><!----><a class="level level-3" href="#element-onerror">element.onerror</a></li><li class="catalog-item"><!----><a class="level level-3" href="#window-addeventlistener-error">window.addEventListener(&#39;error&#39;)</a></li><li class="catalog-item"><a class="level level-2" href="#é™æ€jsï¼Œcssèµ„æº">é™æ€jsï¼Œcssèµ„æº</a><!----></li><li class="catalog-item"><a class="level level-2" href="#ç›‘å¬-request">ç›‘å¬ request</a><!----></li><li class="catalog-item"><!----><a class="level level-3" href="#window-addeventlistener-unhandledrejection">window.addEventListener(&#39;unhandledrejection&#39;)</a></li><li class="catalog-item"><!----><a class="level level-3" href="#å…¼å®¹æ€§">å…¼å®¹æ€§</a></li><li class="catalog-item"><a class="level level-2" href="#æ³¨è§£åœ°å€">æ³¨è§£åœ°å€</a><!----></li><!--]--></ul><div data-v-79566ff1><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="100%" height="100" src="//music.163.com/outchain/player?type=2&amp;id=1401671455&amp;auto=0&amp;height=66"></iframe><h2 id="å›é¡¾"><a class="header-anchor" href="#å›é¡¾" aria-hidden="true">#</a> å›é¡¾</h2><p>æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡ä¸­è®²åˆ°å¦‚ä½•å¯¹äºå‰ç«¯èµ„æºåŠ è½½æ—¶é—´è¿›è¡Œç›‘æ§ï¼Œä¸»è¦çš„ä¸­ä»¥ <code>Performance</code> ä¸ºä¸»ã€‚</p><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><blockquote><p>ä»€ä¹ˆæ˜¯èµ„æºå¼‚å¸¸ï¼Ÿç®€å•ç‚¹è¯´å°±æ˜¯å¯¹ å›¾ç‰‡ï¼Œè§†é¢‘ï¼ŒéŸ³é¢‘ï¼Œcssï¼Œjsï¼Œrequest è¯·æ±‚èµ„æºæ—¶å‡ºç°å¼‚å¸¸ï¼Œå“ªäº›å¼‚å¸¸å‘¢ï¼Ÿç½‘ç»œé”™è¯¯ï¼Œèµ„æºä¸å­˜åœ¨ç­‰ã€‚é‚£æˆ‘éœ€è¦å¯¹é”™è¯¯èµ„æºè¿›è¡Œç›‘å¬å®šä½ï¼Œè¿›è¡Œé”™è¯¯åŠæ—¶ä¸ŠæŠ¥ã€‚</p></blockquote><p><img src="/_assets/eefce9af528223b070300c8f0aac25b.f8b48535.png" alt=""></p><h2 id="åˆ†ç±»å‹"><a class="header-anchor" href="#åˆ†ç±»å‹" aria-hidden="true">#</a> åˆ†ç±»å‹</h2><ol><li>é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘</li><li>é™æ€jsï¼Œcssèµ„æº</li><li>è¯·æ±‚å¼‚å¸¸æˆ–è¶…æ—¶</li></ol><p>è€ä¸¥è¿™ç¯‡æ–‡ç« å‡†å¤‡å°†è¿™äº›èµ„æºåˆ†ä¸ºä»¥ä¸Šä¸‰ä¸ªç±»å‹é€ä¸ªè¿›è¡Œè®²è§£</p><h2 id="é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘"><a class="header-anchor" href="#é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘" aria-hidden="true">#</a> é™æ€å›¾ç‰‡ï¼ŒéŸ³ã€è§†é¢‘</h2><h3 id="element-onerror"><a class="header-anchor" href="#element-onerror" aria-hidden="true">#</a> element.onerror</h3><p><strong>æ³¨æ„ï¼š</strong> <code>element.onerror</code> ä¸ <code>window.onerror</code> æ˜¯ä¸åŒçš„,ç•™ä¸ªä¼ç¬”ï¼Œåé¢è€ä¸¥ä¼šæä¸Šä¸€å˜´,ä¹Ÿå¯ä»¥æå‰å»<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalEventHandlers/onerror" target="_blank" rel="noopener noreferrer">MDN [0]</a></p><div class="language-html"><pre><code><span class="token comment">&lt;!-- å…ˆæ¥ä¸ªæ­£å¸¸ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://star.kuwo.cn/star/starheads/300/1/27/2191880246.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ•ˆæœ <img src="/_assets/1612078637(1).0ddc875a.jpg" alt=""> æ§åˆ¶å°å½“ç„¶æ˜¯å¹²å¹²å‡€å‡€å’¯ï¼èµ„æºä¸€åˆ‡æ­£å¸¸</p><p><strong>å’±ä»¬æ¢ä¸ªé”™è¯¯çš„å›¾ç‰‡</strong></p><div class="language-html"><pre><code><span class="token comment">&lt;!-- æ¥ä¸ªä¸å­˜åœ¨çš„å›¾ç‰‡èµ„æº --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./xxx.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ•ˆæœ <img src="/_assets/1612078876(1).81a063c2.jpg" alt=""> æˆ‘ä»¬ç°åœ¨å·²ç»çœ‹åˆ°äº† <code>event</code> çš„æ‰“å°,é‡Œé¢æœ‰å“ªäº›ä¸œè¥¿æ˜¯å¯ç”¨çš„å‘¢ï¼Ÿ</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./xxx.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">// é”™è¯¯èµ„æºåœ°å€</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;src:&#39;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>src<span class="token punctuation">)</span>
        <span class="token comment">// æ ‡ç­¾</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;tagName:&#39;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span>
        <span class="token comment">// åœ¨è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œé”™è¯¯ä¸ŠæŠ¥ï¼Œç´§æ€¥å‘ŠçŸ¥</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ•ˆæœï¼š <img src="/_assets/1612079552.8817e0ff.jpg" alt=""></p><p>å›¾ç‰‡ç¤ºä¾‹æˆ‘ä»¬å°±å·²ç»å¯ä»¥çœ‹åˆ°äº†ï¼Œå½“ç„¶è¿™åªæ˜¯ç®€å•çš„ä¸€ä¸ªä¾‹å­ï¼Œå°±è¿™å‡ è¡Œä»£ç å³å¯å®Œæˆã€‚ æˆ‘ä»¬çš„é¡µé¢è‚¯å®šä¸æ­¢æœ‰å›¾ç‰‡èµ„æºï¼ŒéŸ³é¢‘è§†é¢‘ä¹Ÿæ˜¯ä¸€æ ·çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç®€å•çš„å°è£…ä¸€ä¸‹</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.mp4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>audio</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.mp3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>audio</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> elementArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">function</span> <span class="token function">returnElement</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> gather <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> el<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            gather<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>el<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> gather
    <span class="token punctuation">}</span>
    elementArray <span class="token operator">=</span> <span class="token function">returnElement</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;video&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;audio&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    elementArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        item<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>tagName<span class="token operator">:</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>tagName <span class="token punctuation">,</span> src<span class="token operator">:</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>src<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ•ˆæœï¼š <img src="/_assets/1612081904(1).ef01a376.jpg" alt=""> ä½ ä»¥ä¸ºè¿™å°±å®Œäº†ï¼Ÿ</p><h3 id="window-addeventlistener-error"><a class="header-anchor" href="#window-addeventlistener-error" aria-hidden="true">#</a> window.addEventListener(&#39;error&#39;)</h3><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>window.addEventListener(&#39;error&#39;)</code></p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
        <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
        <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>srcElement <span class="token operator">===</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// å…¨å±€é”™è¯¯</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å…¨å±€é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// å…ƒç´ é”™è¯¯ï¼Œæ¯”å¦‚å¼•ç”¨èµ„æºæŠ¥é”™</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å…ƒç´ é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;tagname&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onerroræ•è·ç½‘ç»œè¯·æ±‚é”™è¯¯&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ•è·é”™è¯¯</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token boolean">true</span> 
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ•ˆæœï¼š <img src="/_assets/1612082032(1).89480adb.jpg" alt=""> éŸ³è§†é¢‘åŒç†</p><h2 id="é™æ€jsï¼Œcssèµ„æº"><a class="header-anchor" href="#é™æ€jsï¼Œcssèµ„æº" aria-hidden="true">#</a> é™æ€jsï¼Œcssèµ„æº</h2><p>ä¸€æ ·çš„å¯ä»¥é‡‡ç”¨ <code>window.addEventListener(&#39;error&#39;)</code>,ä¸è¿‡éœ€è¦æ”¾åˆ°jsèµ„æºä¹‹ä¸Š</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
      <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
      <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          e<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>srcElement <span class="token operator">===</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// å…¨å±€é”™è¯¯</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å…¨å±€é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token comment">// å…ƒç´ é”™è¯¯ï¼Œæ¯”å¦‚å¼•ç”¨èµ„æºæŠ¥é”™</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å…ƒç´ é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;tagname&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>srcElement<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;å‘ç”Ÿæ—¶é—´&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onerroræ•è·ç½‘ç»œè¯·æ±‚é”™è¯¯&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ•è·é”™è¯¯</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token boolean">true</span> 
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//baidu.com/test.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/_assets/1612082872(1).42d4019a.jpg" alt=""></p><p><strong>ç›‘å¬ css èµ„æº</strong></p><div class="language-diff"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   console.log(&quot;src&quot;, e.srcElement.href || e.srcElement.src);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   console.log(&quot;src&quot;, e.srcElement.src);
</span></span></code></pre></div><p>å°†ä¸Šé¢çš„ <code>console.log(&quot;src&quot;, e.srcElement.src);</code> ä¿®æ”¹ä¸€ä¸‹å³å¯ æ•ˆæœ <img src="/_assets/1612094071(1).81c4f164.jpg" alt=""></p><h2 id="ç›‘å¬-request"><a class="header-anchor" href="#ç›‘å¬-request" aria-hidden="true">#</a> ç›‘å¬ request</h2><h3 id="window-addeventlistener-unhandledrejection"><a class="header-anchor" href="#window-addeventlistener-unhandledrejection" aria-hidden="true">#</a> window.addEventListener(&#39;unhandledrejection&#39;)</h3><p><strong>Promise</strong></p><div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;unhandledrejection&#39;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// event </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// å¼‚å¸¸ promise</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>promise<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// é”™è¯¯ä¿¡æ¯</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;Hello, Fun debug!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/_assets/1612098290(1).33b196eb.jpg" alt=""></p><p><strong>fetch</strong></p><div class="language-js"><pre><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unhandledrejection&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;unhandledrejection&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¯·æ±‚è¿”å›é”™è¯¯</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com/movies.json&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ— æ•ˆè¯·æ±‚</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com/404.json&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/_assets/1612097970(1).8865d2d0.jpg" alt=""></p><h3 id="å…¼å®¹æ€§"><a class="header-anchor" href="#å…¼å®¹æ€§" aria-hidden="true">#</a> å…¼å®¹æ€§</h3><p>unhandledrejection çš„å…¼å®¹æ€§ <img src="/_assets/1612098393(1).13a21a81.jpg" alt=""></p><p>ä¸‹é›†æˆ‘ä»¬ä¼šè®²åˆ°æ•æ‰å¼‚å¸¸</p><h2 id="æ³¨è§£åœ°å€"><a class="header-anchor" href="#æ³¨è§£åœ°å€" aria-hidden="true">#</a> æ³¨è§£åœ°å€</h2><p>[0] <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalEventHandlers/onerror" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalEventHandlers/onerror</a></p></div><div class="links-wrapper" data-v-79566ff1><div class="prev-link"><!----></div><div class="next-link"><!----></div></div><div data-v-79566ff1><!-- <footer class="page-edit">
      <a v-for="(item,index) in data.platform" :key="index" :href="item.href"><img class="imgIcon" :src="item.icon" ></a>
      </footer>
     <p class="platform">ä»¥ä¸Šçš†ä¸º <a href="javascript:;">æ‚²ä¼¤æ—¥è®°</a> æ–‡ç« å‘å¸ƒå¹³å°</p> --><p class="platform"> Copyright Â© 2020-2021 <a href="https://github.com/CrazyMrYan">@Syp</a></p></div><!--[--><!--[--><!--]--><!--]--></div><!-- åªæƒ³ç‚¹å‡»èƒŒæ™¯æ‰å…³é—­ è¯·ä½¿ç”¨ .self ä¿®é¥°ç¬¦ --><div style="display:none;" class="imgBox"><img src=""></div><!--]--></main><div class="theme-select" data-v-79566ff1><ul data-v-79566ff1><li class="active" data-v-79566ff1> â˜€ï¸ </li><li class="" data-v-79566ff1> ğŸŒ‘ </li></ul></div></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"8f402100\",\"README.md\":\"fe610456\",\"docs_about.md\":\"b7c35cca\",\"docs_depth-Copy.md\":\"2776eac1\",\"docs_gitalk-Study.md\":\"980c5272\",\"docs_vue-Optimize.md\":\"777cb184\",\"docs_vue-PlugIn.md\":\"878a498b\",\"docs_website-Monitoring.md\":\"9e2f7778\",\"docs_website-Monitoring2.md\":\"3cc80069\",\"more_docs.md\":\"5526df53\",\"more_Friendship.md\":\"746f349d\",\"more_index.md\":\"6f6f6489\",\"more_subscribe.md\":\"c9d6d924\",\"more_tags.md\":\"91f60878\",\"more_update-log.md\":\"3bcf9854\"}")</script>
    <script type="module" async src="/_assets/app.6518db71.js"></script>
  </body>
</html>
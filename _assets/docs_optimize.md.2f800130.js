import{g as n,f as s,j as a,l as t}from"./common-bec3f312.js";const o='{"title":"性能优化的几个常用手段","frontmatter":{"date":"2020-07-17","title":"性能优化的几个常用手段","tags":["性能优化"],"describe":null},"headers":[{"level":2,"title":"为什么要优化？","slug":"为什么要优化？"},{"level":2,"title":"现在开始","slug":"现在开始"},{"level":3,"title":"1.代码压缩","slug":"_1-代码压缩"},{"level":3,"title":"2. 使用cdn开始性能优化","slug":"_2-使用cdn开始性能优化"},{"level":3,"title":"3.修改路由引入方式","slug":"_3-修改路由引入方式"}],"relativePath":"docs/optimize.md","lastUpdated":1640055763105}';var e={};const l=a("h2",{id:"为什么要优化？"},[a("a",{class:"header-anchor",href:"#为什么要优化？","aria-hidden":"true"},"#"),t(" 为什么要优化？")],-1),p=a("p",null,[a("strong",null,"客户等待页面时长的流失率")],-1),c=a("p",null,[a("img",{src:"/_assets/image-20201229141952707.ce54c38a.png",alt:""})],-1),u=a("p",null,"作为一个开发者，你对首页打开速度又有多高的要求呢？",-1),i=a("h2",{id:"现在开始"},[a("a",{class:"header-anchor",href:"#现在开始","aria-hidden":"true"},"#"),t(" 现在开始")],-1),k=a("h3",{id:"_1-代码压缩"},[a("a",{class:"header-anchor",href:"#_1-代码压缩","aria-hidden":"true"},"#"),t(" 1.代码压缩")],-1),r=a("p",null,"首先需要下载一些依赖",-1),g=a("p",null,[a("strong",null,"css 代码压缩 (optimize-css-assets-webpack-plugin)")],-1),d=a("p",null,"下载",-1),m=a("div",{class:"language-shell"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"npm"),t(),a("span",{class:"token function"},"install"),t(" optimize-css-assets-webpack-plugin\n")])])],-1),h=a("p",null,"webpack.config.js 使用",-1),b=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" OptimizeCSSPlugin "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'optimize-css-assets-webpack-plugin'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\nplugins"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"["),t("\n    "),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"OptimizeCSSPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"]"),t("\n")])])],-1),f=a("p",null,[a("strong",null,"js 代码压缩 (uglifyjs-webpack-plugin)")],-1),w=a("p",null,"下载",-1),v=a("div",{class:"language-shell"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"npm"),t(),a("span",{class:"token function"},"install"),t(" optimize-css-assets-webpack-plugin\n")])])],-1),y=a("p",null,"webpack.config.js 使用",-1),_=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" UglifyJsPlugin "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'uglifyjs-webpack-plugin'"),a("span",{class:"token punctuation"},")"),t("\nplugins"),a("span",{class:"token operator"},":"),a("span",{class:"token punctuation"},"["),t("\n      "),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"UglifyJsPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n      cache"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("   "),a("span",{class:"token comment"},"// 开启缓存"),t("\n      parallel"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token comment"},"// 开启多线程编译"),t("\n      sourceMap"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("  "),a("span",{class:"token comment"},"// 是否sourceMap"),t("\n      uglifyOptions"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"{"),t("  "),a("span",{class:"token comment"},"// 丑化参数"),t("\n        comments"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"false"),a("span",{class:"token punctuation"},","),t("\n        warnings"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"false"),a("span",{class:"token punctuation"},","),t("\n        compress"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"{"),t("\n          unused"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n          dead_code"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n          collapse_vars"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n          reduce_vars"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),t("\n        "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n        output"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"{"),t("\n          comments"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"false"),t("\n        "),a("span",{class:"token punctuation"},"}"),t("\n      "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n"),a("span",{class:"token punctuation"},"]"),t("\n")])])],-1),z=a("p",null,[a("strong",null,"开启gzip")],-1),j=a("p",null,"安装",-1),x=a("div",{class:"language-shell"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"npm"),t(),a("span",{class:"token function"},"install"),t(" compression-webpack-plugin\n")])])],-1),P=a("p",null,"webpack.config.js 使用",-1),S=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" CompressionWebpackPlugin "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"require"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'compression-webpack-plugin'"),a("span",{class:"token punctuation"},")"),t("\nplugins"),a("span",{class:"token operator"},":"),a("span",{class:"token punctuation"},"["),t("\n    "),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"CompressionWebpackPlugin"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n      asset"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token string"},"'[path].gz[query]'"),a("span",{class:"token punctuation"},","),t("\n      algorithm"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token string"},"'gzip'"),a("span",{class:"token punctuation"},","),t("\n      test"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"RegExp"),a("span",{class:"token punctuation"},"("),t("\n        "),a("span",{class:"token string"},"'\\\\.('"),t(),a("span",{class:"token operator"},"+"),t("\n        "),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'js'"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},"'css'"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"join"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'|'"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"+"),t("\n        "),a("span",{class:"token string"},"')$'"),t("\n      "),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n      threshold"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"10240"),a("span",{class:"token punctuation"},","),t("\n      minRatio"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"0.8"),t("\n\t"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"]"),t("\n")])])],-1),q=a("p",null,"nginx 配置",-1),C=a("div",{class:"language-nginx"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"gzip"),t(" on"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_static"),t(" on"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_min_length"),t(),a("span",{class:"token number"},"1"),t("k"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_buffers"),t(),a("span",{class:"token number"},"4"),t(),a("span",{class:"token number"},"32"),t("k"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_http_version"),t(),a("span",{class:"token number"},"1.1"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_comp_level"),t(),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_types"),t(" text"),a("span",{class:"token operator"},"/"),t("plain application"),a("span",{class:"token operator"},"/"),t("x"),a("span",{class:"token operator"},"-"),t("javascript text"),a("span",{class:"token operator"},"/"),t("css application"),a("span",{class:"token operator"},"/"),t("xml"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_vary"),t(" on"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"gzip_disable"),t(),a("span",{class:"token string"},'"MSIE [1-6]."'),a("span",{class:"token punctuation"},";"),t("\n")])])],-1),M=a("h3",{id:"_2-使用cdn开始性能优化"},[a("a",{class:"header-anchor",href:"#_2-使用cdn开始性能优化","aria-hidden":"true"},"#"),t(" 2. 使用cdn开始性能优化")],-1),I=a("ol",null,[a("li",null,[a("p",null,"index.html中引入js")]),a("li",null,[a("p",null,"webpack externals中进行配置")])],-1),O=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[t("externals"),a("span",{class:"token operator"},":"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token string"},"'vue'"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'Vue'"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token string"},"'mint-ui'"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'MINT'"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token string"},"'axios'"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'axios'"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token string"},"'vue-router'"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'VueRouter'"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token string"},"'vue-i18n'"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'VueI18n'"),a("span",{class:"token punctuation"},","),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n")])])],-1),R=a("h3",{id:"_3-修改路由引入方式"},[a("a",{class:"header-anchor",href:"#_3-修改路由引入方式","aria-hidden":"true"},"#"),t(" 3.修改路由引入方式")],-1),U=a("p",null,"路由懒加载",-1);e.render=function(a,t,o,e,V,E){return s(),n("div",null,[l,p,c,u,i,k,r,g,d,m,h,b,f,w,v,y,_,z,j,x,P,S,q,C,M,I,O,R,U])};export default e;export{o as __pageData};
